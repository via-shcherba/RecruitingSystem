<template>    
    <lightning-card title={labels.avaliableJobSeekLbl} icon-name="custom:custom14">        
        <div class="slds-box slds-box_small">     
            <div class="slds-box paddingBot25">
                <lightning-button-icon icon-name="utility:add" onclick={showWindow} alternative-text={labels.addNewJsLbl} class="slds-m-left_xx-small"></lightning-button-icon>
                <template if:true={selectedRows.length}>                    
                    <lightning-button variant="success" label={labels.invitedAllLbl} onclick={invateAll} title={labels.invitedAllLbl} class="slds-m-left_x-small"></lightning-button> 
                    <lightning-button variant="brand" label={labels.sendInterAllLbl} onclick={sendAll} title={labels.sendInterAllLbl}  class="slds-m-left_x-small"></lightning-button>  
                    <lightning-button variant="destructive" label={labels.deleteAllLbl} title={labels.deleteAllLbl} onclick={deleteAll} class="slds-m-left_x-small"></lightning-button>             
                </template>  
                <div class="search">
                    <lightning-input type="text" name="searchKey" onchange={searchData} placeholder={labels.typeSomethingLbl}></lightning-input>    
                </div>
            </div>                 
            <div class="table-wrapper" >
                <template if:true={data}>
                    <c-custom-data-table
                        key-field="id"
                        data={paginationList}
                        columns={columns}
                        draft-values={draftValues}
                        onsave={saveData}
                        onpicklistchanged={picklistChanged}
                        onrowaction={handleRowAction} 
                        onrowselection={getSelectedRows}  
                        selected-rows={handleSelectedRows}
                        sorted-by={sortedBy}     
                        sorted-direction={sortedDirection}   
                        onsort={updateColumnSorting}                                                                                 
                        >
                    </c-custom-data-table>                       
                </template>                
                <template if:true={error}>
                    <c-error-panel errors={error}></c-error-panel>
                </template>    
            </div>     
            <p class="page-number">{labels.pageNumberLbl}:  {pageNumber} {labels.ofLbl} {numberPages}</p>
            <c-paginator onselect={changePageSize} onnext={nextPage} onprevious={previousPage} onfirst={firstPage} onlast={lastPage}></c-paginator>                   
        </div>     
    </lightning-card>
    <template if:true={addRowWindow}>
        <div class="add-record-window">           
            <section role="dialog" tabindex="-1" aria-labelsledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container">
                    <lightning-card title="Create New Job Seeker">
                        <div class="slds-m-around_medium">
                            <lightning-record-edit-form object-api-name="JobSeeker__c" onsuccess={successCreatedRow} >
                                <lightning-messages></lightning-messages>                           
                                <lightning-input-field label={labels.firstNameLbl} field-name='FirstName__c' ></lightning-input-field>                                                        
                                <lightning-input-field label={labels.lastNameLbl} field-name='LastName__c' required></lightning-input-field>                                            
                                <lightning-input-field field-name='Phone__c' label={labels.phoneLbl} required></lightning-input-field>                       
                                <lightning-input-field type="email" field-name='Email__c' label={labels.emailLbl} required></lightning-input-field>                           
                                <lightning-input-field field-name='Specialization__c' required></lightning-input-field>
                                <lightning-textarea label={labels.backgroundLbl} max-length=255 onchange={getBackground} 
                                class="slds-m-bottom_x-small" message-when-value-missing={labels.typeSomethingHereLbl}></lightning-textarea>
                                <lightning-input-field class="hidden" field-name='Background__c' value={jobSeekerBackground}></lightning-input-field>
                                <lightning-button label={labels.saveLbl} type="submit" name="Create" variant="brand" ></lightning-button>
                                <lightning-button label={labels.cancelLbl} onclick={hideWindow} variant="destructive" ></lightning-button>                            
                            </lightning-record-edit-form>
                        </div>
                    </lightning-card>
                </div>
            </section>            
            <div class="slds-backdrop slds-backdrop_open"></div>
        </div>
    </template>
</template>